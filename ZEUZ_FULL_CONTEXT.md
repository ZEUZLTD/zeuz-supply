# ZEUZ_SUPPLY // FULL SYSTEM CONTEXT
**Generated on:** 2026-02-01T12:16:44.002Z
**Version:** 2.1.0

This document is an autogenerated aggregation of the ".agent" context modules.
It serves as the single source of truth for Business Logic, Design, and Strategy.

---


# MODULE: marketing-strategy.md

# Marketing Strategy & Brand Voice

## 1. Brand Identity: "Industrial High-Fidelity"
ZEUZ is **not** a dropshipping store. ZEUZ is a **technical protocol** for energy infrastructure.

### The "Teenage Engineering" Vibe
*   **Tone**: Clinical, Precise, Minimalist, Confident.
*   **Avoid**: Marketing fluff ("Buy now!", "Best deals!", "Amazing Battery!").
*   **Use**: Technical specifications ("Discharge Rate: 45A", "Internal Resistance: <12mÎ©").
*   **Visual Logic**: The website should feel like a dashboard or a multimeter, not a shopping cart.

### Key Manifestos
*   "ZEUZ_SUPPLY is not a storefront. It is a technical protocol."
*   "Zero-Trust Inventory Model."
*   "The Infrastructure of Power."

---

## 2. Target Audience
*   **DIY Battery Builders**: Building powerwalls, e-bikes, skateboards.
*   **R&D Engineers**: CPrototyping high-discharge packs.
*   **Industrial Clients**: Small to medium-scale manufacturing.

## 3. SEO Keywords
*   **Primary**: "Molicel P45B UK", "Samsung 40T Bulk", "18650 Cells UK", "21700 Battery Wholesale".
*   **Secondary**: "High Discharge Li-Ion", "Battery Spot Welding", "Custom Battery Packs".

## 4. Active Campaigns
*   **"The Paranoid Drop"**: Scarcity-based restocks.
*   **"Volume Tiers"**: Automatic price reduction at 10+ and 100+ units.


---

# MODULE: business-logic.md

# Business Logic & Protocols

## 1. Checkout Protocol: "The Paranoid Model"
We operate on a **Zero-Trust** basis. The frontend is for display; the backend is the authority.

### The Flow
1.  **User adds to cart**: Stored in `cart_items` (Supabase).
2.  **Checkout initiated**:
    *   **Server Verification**: API `/api/checkout` queries the DB directly.
    *   **Stock Check**: Verifies `stock_quantity` > `cart_quantity`.
    *   **Price Check**: Re-calculates total based on DB prices (ignoring frontend values).
    *   **Discount Application**: Applies volume tier OR voucher (whichever is valid).
3.  **Payment (Stripe)**: Session created with "GB-Only" shipping restriction.
4.  **Webhook (`checkout.session.completed`)**:
    *   **Atomic Decrement**: `stock_quantity` reduced.
    *   **Race Condition Request**: If stock < 0 after decrement, **IMMEDIATE REFUND** triggered.

## 2. Pricing Logic

### A. Volume Discounts (Automatic)
*   **Source**: `volume_discounts` table.
*   **Logic**: Applied per-product based on quantity.
*   **Tiers (Typical)**:
    *   2+ Units: ~2% Off
    *   10+ Units: ~5% Off
    *   100+ Units: ~12% Off

### B. Vouchers (Manual)
*   **Source**: `vouchers` table.
*   **Logic**: Can apply to specific products or global cart.
*   **Priority**: Vouchers stack with volume discounts ONLY if `allow_stacking` is true (Rare).

## 3. Inventory Status
*   **LIVE**: Available for purchase.
*   **PROTOTYPE**: Visible but not purchaseable ("COMING SOON").
*   **ARCHIVED**: Hidden from main grid.


---

# MODULE: communications.md

# Communications & Signal Intelligence

## 1. Design Philosophy
All communications must match the "Void Black" / Monospace aesthetic of the website.
**No generic HTML templates.**

## 2. Transactional Emails (Resend)
Triggered by: `api/webhooks/stripe` or Admin Actions.

| Event | Template ID | Description |
| :--- | :--- | :--- |
| **Order Confirmed** | `order-confirmation` | Receipt, Manifesto, "We have received your signal." |
| **Order Shipped** | `shipping-update` | Tracking Number, Lab Report style status. |
| **Refund/Apology** | `stock-apology` | "Race condition failure. Refund initiated." (Automated). |

## 3. Newsletters
*   **Engine**: Resend Broadcasts.
*   **Segments**:
    *   `ALL_USERS`: General updates.
    *   `PREVIOUS_BUYERS`: Restock alerts for specific cells.
*   **Tone**: Brief, high-signal, text-heavy. "P45B RESTOCK. 1200 UNITS. GO."

## 4. Contact Forms
*   **Route**: `zeuz.supply/contact` -> Supabase `contact_submissions` -> Email Notification to Admin.
*   **SLA**: 24 Hour Response.


---

# MODULE: tech-stack.json
```json
{
  "framework": {
    "name": "Next.js",
    "version": "14.2.35"
  },
  "runtime": "Node.js",
  "language": "TypeScript",
  "styling": {
    "engine": "Tailwind CSS",
    "version": "4.0.0",
    "libraries": [
      "clsx",
      "tailwind-merge",
      "class-variance-authority"
    ]
  },
  "state_management": {
    "global": "Zustand",
    "server": "Supabase SSR"
  },
  "database": {
    "provider": "Supabase",
    "client": "@supabase/supabase-js",
    "features": [
      "Auth",
      "Realtime",
      "Storage",
      "Postgres Functions"
    ]
  },
  "visuals": {
    "3d_engine": "Three.js (R3F)",
    "animations": "Framer Motion",
    "charts": "Recharts"
  },
  "infrastructure": {
    "hosting": "Vercel",
    "cdn": "Vercel Blob / Supabase Storage",
    "payments": "Stripe"
  },
  "commands": {
    "dev": "npm run dev",
    "build": "npm run build",
    "lint": "next lint",
    "db_push": "npx supabase db push"
  }
}
```

---

# MODULE: design-system.json
```json
{
  "meta": {
    "name": "ZEUZ Industrial High-Fidelity",
    "vibe": "Teenage Engineering x Brutalism",
    "philosophy": "Functional-Industrial. The UI is a piece of high-end lab equipment."
  },
  "colors": {
    "void": {
      "value": "#050505",
      "variable": "--color-background",
      "description": "Deepest black, used for main backgrounds."
    },
    "foreground": {
      "value": "#E5E5E5",
      "variable": "--color-foreground",
      "description": "High-contrast text color."
    },
    "accents": {
      "power": {
        "value": "#FF3300",
        "variable": "--color-accent-power",
        "usage": "POWER phase / High Discharge"
      },
      "energy": {
        "value": "#00FF99",
        "variable": "--color-accent-energy",
        "usage": "ENERGY phase / High Capacity"
      },
      "prototype": {
        "value": "#404040",
        "variable": "--color-accent-prototype",
        "usage": "PROTOTYPE phase / Unreleased"
      }
    }
  },
  "typography": {
    "sans": {
      "family": "Inter Tight",
      "variable": "--font-inter-tight",
      "usage": "Headings, Body Copy"
    },
    "mono": {
      "family": "JetBrains Mono",
      "variable": "font-mono-spec",
      "usage": "Technical Data, Specs, Pricing, Graphs"
    }
  },
  "layout": {
    "grid": "Modular blocks with strict borders (#333333).",
    "radius": "0px or minimal (Sharp edges).",
    "borders": "1px solid var(--color-border-main)"
  },
  "assets": {
    "location": "/public/images/products/[slug]/",
    "format": "WEBP / PNG"
  }
}
```

---
